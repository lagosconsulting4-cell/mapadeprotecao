<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>O Lado Escuro da Internet</title>
  <meta name="description" content="Uma simulação realista para pais entenderem, de verdade, o que seus filhos enfrentam online.">
  <link rel="icon" href="icon-light-32x32.png" media="(prefers-color-scheme: light)">
  <link rel="icon" href="icon-dark-32x32.png" media="(prefers-color-scheme: dark)">
  <link rel="icon" href="icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="apple-icon.png">
  <style>
    :root {
      --bg: #0c0c0e;
      --panel: #111214;
      --text: #e7e8ec;
      --muted: #a5acb6;
      --red: #e32020;
      --yellow: #f0c14b;
      --green: #2bc368;
      --discord-bg: #2b2d31;
      --discord-card: #313338;
      --blue-panel: #030b14;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family: "Inter", system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); -webkit-font-smoothing: antialiased; }
    a { color: inherit; text-decoration: none; }
    .wrap { width: 100%; margin: 0 auto; padding: 0; min-height: 100vh; }
    .screen { display: none; padding: 24px 18px 64px; min-height: 100vh; }
    .screen.active { display: block; }
    .inner { max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; gap: 18px; }
    .hero-title { font-size: clamp(32px, 5vw, 42px); line-height: 1.05; text-transform: uppercase; letter-spacing: 0.5px; margin: 0 0 12px; }
    .hero-title strong { color: var(--red); display: block; }
    .hero-sub { color: #c6ceda; font-size: 15px; line-height: 1.6; margin: 0 0 18px; }
    .card-dark { background: linear-gradient(135deg, #170b0b, #13090c); border: 1px solid #2a1717; padding: 18px; border-radius: 8px; margin: 0 0 10px; box-shadow: 0 12px 30px rgba(0,0,0,0.35); }
    .card-dark h2 { margin: 0 0 8px; color: var(--text); font-size: 18px; line-height: 1.4; }
    .card-dark .punch { color: var(--red); font-size: 20px; font-weight: 800; }
    .list { padding-left: 0; margin: 0 0 12px; list-style: none; }
    .list li { display: flex; align-items: flex-start; gap: 10px; color: var(--muted); margin-bottom: 8px; font-size: 14px; line-height: 1.5; }
    .bullet { color: var(--red); font-weight: 900; }
    .warning { background: linear-gradient(90deg, rgba(240,193,75,0.18), rgba(240,193,75,0.08)); border-left: 3px solid var(--yellow); padding: 12px 14px; border-radius: 6px; color: #f3d584; font-size: 13px; margin-bottom: 14px; }
    .cta-primary { width: 100%; background: var(--red); color: #fff; border: none; padding: 14px; border-radius: 8px; font-weight: 800; font-size: 16px; letter-spacing: 0.3px; cursor: pointer; box-shadow: 0 10px 30px rgba(227,32,32,0.35); transition: transform 0.1s ease, filter 0.15s ease; }
    .cta-primary:hover { transform: translateY(-1px); filter: brightness(1.05); }

    /* Discord layout */
    .sim-app { background: #1e1f24; border: 1px solid #22252d; border-radius: 12px; overflow: hidden; display: grid; grid-template-columns: 72px 220px 1fr; min-height: 520px; box-shadow: 0 18px 50px rgba(0,0,0,0.35); }
    .sim-servers { background: #1a1b21; display: flex; flex-direction: column; align-items: center; gap: 12px; padding: 12px 8px; }
    .server-dot { width: 48px; height: 48px; border-radius: 16px; background: #5865f2; color: #fff; font-weight: 800; display: grid; place-items: center; cursor: pointer; }
    .server-icon { width: 48px; height: 48px; border-radius: 16px; background: #2f3136; display: grid; place-items: center; color: #8ea1e1; font-size: 24px; cursor: pointer; }
    .divider { width: 60%; height: 2px; background: #2f3136; border-radius: 10px; }
    .sim-channels { background: #23252b; color: #cdd4e0; padding: 12px; border-right: 1px solid #1f2026; display: flex; flex-direction: column; gap: 10px; }
    .sim-channels .title { font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 6px; }
    .channel-item { padding: 8px 10px; border-radius: 8px; display: flex; align-items: center; gap: 8px; color: #9ea5b5; cursor: pointer; }
    .channel-item.active { background: #3a3d45; color: #fff; }
    .sim-main { background: var(--discord-card); display: flex; flex-direction: column; }
    .sim-topbar { background: #2f3136; color: #e4e5eb; padding: 10px 14px; display: flex; align-items: center; gap: 12px; border-bottom: 1px solid #1f2026; }
    .sim-topbar .dot { width: 8px; height: 8px; border-radius: 50%; background: #23a55a; }
    .sim-topbar .topic { color: #9ea5b5; font-size: 13px; }
    .sim-chat { flex: 1; overflow-y: auto; padding: 16px 18px 90px; }
    .msg { display: flex; gap: 10px; margin-bottom: 14px; color: #e6e8f0; font-size: 14px; }
    .avatar { width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0; background-size: cover; background-position: center; background-repeat: no-repeat; display: grid; place-items: center; color: #fff; font-weight: 800; font-size: 12px; }
    .bubble { background: #2f3136; padding: 6px 10px; border-radius: 8px; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02); color: #e6e8f0; line-height: 1.5; }
    .header { display: flex; align-items: baseline; gap: 8px; margin-bottom: 4px; }
    .name { font-weight: 700; }
    .time { color: #a3a9b5; font-size: 12px; }
    .alert-box { margin-top: 6px; padding: 10px 12px; background: rgba(227,32,32,0.14); border: 1px solid rgba(227,32,32,0.35); border-radius: 8px; color: #f2a5a5; font-size: 13px; }
    .typing { display: inline-flex; align-items: center; gap: 6px; color: #a3a9b5; font-size: 13px; margin-top: 2px; }
    .t-dot { width: 6px; height: 6px; background: #a3a9b5; border-radius: 50%; animation: blink 1.2s infinite; }
    .t-dot:nth-child(2){ animation-delay: .15s; }
    .t-dot:nth-child(3){ animation-delay: .3s; }
    @keyframes blink { 0%, 60%, 100% { opacity: 0.3; } 30% { opacity: 1; } }
    .sim-footer { position: relative; margin-top: -70px; padding: 0 12px 14px; }
    .fake-input { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.04); color: #7c828f; padding: 12px; border-radius: 10px; display: flex; align-items: center; gap: 10px; font-size: 13px; }
    .fake-icons { margin-left: auto; display: flex; gap: 10px; opacity: 0.6; }
    .progress { text-align: center; margin-top: 10px; }
    .btn-next { width: 100%; background: var(--green); color: #0c0e11; font-weight: 800; border: none; padding: 12px; border-radius: 10px; cursor: pointer; box-shadow: 0 10px 30px rgba(43,195,104,0.35); }
    .btn-next:disabled { opacity: 0.5; cursor: not-allowed; box-shadow: none; }

    .pre-offer { background: linear-gradient(180deg, #1a0d0f 0%, #0e0d0f 100%); border: 1px solid #251316; border-radius: 12px; padding: 26px 18px; box-shadow: 0 20px 50px rgba(0,0,0,0.45); }
    .pre-offer h3 { margin: 0 0 12px; font-size: 26px; line-height: 1.2; }
    .pre-offer h3 .red { color: var(--red); }
    .pre-offer p { margin: 0 0 16px; color: var(--muted); line-height: 1.6; }
    .pre-offer ul { padding-left: 18px; color: #d8d8d8; }
    .pre-offer li { margin-bottom: 8px; }

    .offer { background: var(--blue-panel); border: 1px solid #0b1c2d; border-radius: 14px; padding: 24px 18px 28px; color: #d8e7ff; box-shadow: 0 16px 40px rgba(0,0,0,0.5); }
    .offer h4 { margin: 0 0 10px; font-size: 22px; }
    .offer p { margin: 0 0 18px; color: #9bb3d4; line-height: 1.6; }
    .stat { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06); padding: 12px; border-radius: 10px; text-align: center; margin-bottom: 18px; font-weight: 700; }
    .kit { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 14px; }
    .kit-title { font-weight: 800; margin: 0 0 4px; color: #d8e7ff; }
    .kit-sub { margin: 0 0 14px; color: #8ea8c9; }
    .kit-list { list-style: none; padding: 0; margin: 0 0 12px; }
    .kit-list li { display: flex; gap: 10px; color: #c8d9f2; margin-bottom: 10px; font-size: 14px; }
    .check { color: #4ade80; font-weight: 900; }
    .price { display: flex; align-items: baseline; gap: 12px; margin: 14px 0; }
    .price .now { font-size: 26px; font-weight: 800; color: #7dd3fc; }
    .price .old { color: #6b7d94; text-decoration: line-through; }
    .btn-offer { width: 100%; background: linear-gradient(90deg, #0ea5e9, #3b82f6); border: none; color: #fff; font-weight: 800; padding: 14px; border-radius: 10px; box-shadow: 0 12px 30px rgba(59,130,246,0.35); cursor: pointer; }
    .guarantee { margin: 12px 0 0; text-align: center; color: #8ea8c9; font-size: 13px; }

    @media (max-width: 900px) {
      .screen { padding: 18px 12px 60px; }
      .sim-app { grid-template-columns: 1fr; }
      .sim-servers, .sim-channels { display: none; }
      .sim-topbar { position: sticky; top: 0; z-index: 5; }
    }
  </style>
</head>
<body>
  <!-- Pixel + CAPI -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
      n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
      document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init','1568472000997088');
    fbq('track','PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1568472000997088&ev=PageView&noscript=1"/></noscript>
  <script>
    (function(){
      var token="EAAQjYnh4VMcBQBTtTPnmEn8XWlQ5toQEJ9mkDZAKgl6sFHbEa0KYtr4yFwqUHbyupPY1GCdckIqZCQcqCRFLNPZACOioBUyBBH4R1OEYcwoBcvhFxkBJphOrcDZANIUtbzosb5ShXZAFPZAej8ZBYKNTGYnZAlIK5KzZAFHhzqta17305dHTrYyRVzM4QP5ScpgZDZD";
      var pixelId="1568472000997088";
      var payload={data:[{event_name:"PageView",event_time:Math.floor(Date.now()/1000),action_source:"website",event_source_url:location.href}],access_token:token};
      try{fetch("https://graph.facebook.com/v19.0/"+pixelId+"/events",{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify(payload)}).catch(function(){});}catch(e){}
    })();
  </script>

  <div class="wrap">
    <!-- Tela inicial -->
    <div class="screen active" id="screen-inicial">
      <div class="inner" style="max-width: 500px;">
        <h1 class="hero-title">O LADO ESCURO<br><strong>DA INTERNET</strong></h1>
        <p class="hero-sub">Uma simulação realista para pais entenderem, de verdade, o que seus filhos enfrentam online.</p>
        <div class="card-dark">
          <h2>Você acha que sabe o que seu filho vê na internet?</h2>
          <div class="punch">Você não sabe.</div>
        </div>
        <ul class="list">
          <li><span class="bullet">→</span> Assédios disfarçados de amizade</li>
          <li><span class="bullet">→</span> Ameaças e manipulações psicológicas</li>
          <li><span class="bullet">→</span> Conteúdos impróprios compartilhados em grupos</li>
          <li><span class="bullet">→</span> Linguagens codificadas usadas para enganar menores</li>
        </ul>
        <div class="warning"><strong>AVISO:</strong> Esta simulação não contém imagens explícitas, mas apresenta contextos reais que podem ser perturbadores.</div>
        <button id="btn-start" class="cta-primary">Iniciar Imersão</button>
      </div>
    </div>

    <!-- Simulação 1 -->
    <div class="screen" id="screen-sim1">
      <div class="inner">
        <div class="sim-app">
          <div class="sim-servers">
            <div class="server-dot">F</div>
            <div class="divider"></div>
            <div class="server-icon" title="FortFriends">🎮</div>
            <div class="server-icon" title="Amigos">🔒</div>
            <div class="server-icon" title="Alertas">⚠️</div>
          </div>
          <div class="sim-channels">
            <div class="title">FortFriends Brasil ▾</div>
            <div class="title" style="color:#9ea5b5; margin-top:4px;">CANAIS DE TEXTO</div>
            <div class="channel-item active"># fortfriends-geral</div>
            <div class="channel-item"># amigos-especiais</div>
            <div class="channel-item"># conversas-privadas</div>
            <div class="title" style="color:#9ea5b5;">CANAIS DE VOZ</div>
            <div class="channel-item">🔈 Call Geral</div>
            <div class="channel-item">🎧 AFK</div>
          </div>
          <div class="sim-main">
            <div class="sim-topbar">
              <span style="font-weight:800;"># fortfriends-geral</span>
              <span class="topic">Servidor público de Fortnite Brasil</span>
              <div style="margin-left:auto; display:flex; align-items:center; gap:10px; color:#9ea5b5; font-size:13px;">
                <span>👥</span><span class="dot"></span><span>12 online</span>
              </div>
            </div>
            <div class="sim-chat" id="msgs-sim1"></div>
          </div>
        </div>
        <div class="sim-footer" style="padding: 12px 0 0;">
          <div class="progress"><button class="btn-next" id="next-sim1" disabled>Carregando...</button></div>
          <div class="fake-input">+ Mensagem em fortfriends-geral <span class="fake-icons">🎁 🙂</span></div>
        </div>
      </div>
    </div>

    <!-- Simulação 2 -->
    <div class="screen" id="screen-sim2">
      <div class="inner">
        <div class="sim-app">
          <div class="sim-servers">
            <div class="server-dot">F</div>
            <div class="divider"></div>
            <div class="server-icon" title="FortFriends">🎮</div>
            <div class="server-icon" title="Amigos">🔒</div>
            <div class="server-icon" title="Alertas">⚠️</div>
          </div>
          <div class="sim-channels">
            <div class="title">FortFriends Brasil ▾</div>
            <div class="title" style="color:#9ea5b5; margin-top:4px;">CANAIS DE TEXTO</div>
            <div class="channel-item"># fortfriends-geral</div>
            <div class="channel-item active"># amigos-especiais</div>
            <div class="channel-item"># conversas-privadas</div>
            <div class="title" style="color:#9ea5b5;">CANAIS DE VOZ</div>
            <div class="channel-item">🔈 Call Geral</div>
            <div class="channel-item">🎧 AFK</div>
          </div>
          <div class="sim-main">
            <div class="sim-topbar">
              <span style="font-weight:800;"># amigos-especiais</span>
              <span class="topic">Grupo privado (6 membros)</span>
              <div style="margin-left:auto; display:flex; align-items:center; gap:10px; color:#9ea5b5; font-size:13px;">
                <span>👥</span><span class="dot"></span><span>6 online</span>
              </div>
            </div>
            <div class="sim-chat" id="msgs-sim2"></div>
          </div>
        </div>
        <div class="sim-footer" style="padding: 12px 0 0;">
          <div class="progress"><button class="btn-next" id="next-sim2" disabled>Carregando...</button></div>
          <div class="fake-input">+ Mensagem em amigos-especiais <span class="fake-icons">🎁 🙂</span></div>
        </div>
      </div>
    </div>

    <!-- Simulação 3 -->
    <div class="screen" id="screen-sim3">
      <div class="inner">
        <div class="sim-app">
          <div class="sim-servers">
            <div class="server-dot">F</div>
            <div class="divider"></div>
            <div class="server-icon" title="FortFriends">🎮</div>
            <div class="server-icon" title="Amigos">🔒</div>
            <div class="server-icon" title="Alertas">⚠️</div>
          </div>
          <div class="sim-channels">
            <div class="title">FortFriends Brasil ▾</div>
            <div class="title" style="color:#9ea5b5; margin-top:4px;">CANAIS DE TEXTO</div>
            <div class="channel-item"># fortfriends-geral</div>
            <div class="channel-item"># amigos-especiais</div>
            <div class="channel-item active"># conversas-privadas</div>
            <div class="title" style="color:#9ea5b5;">CANAIS DE VOZ</div>
            <div class="channel-item">🔈 Call Geral</div>
            <div class="channel-item">🎧 AFK</div>
          </div>
          <div class="sim-main">
            <div class="sim-topbar">
              <span style="font-weight:800;"># conversas-privadas</span>
              <span class="topic">Chat direto</span>
              <div style="margin-left:auto; display:flex; align-items:center; gap:10px; color:#9ea5b5; font-size:13px;">
                <span>👥</span><span class="dot"></span><span>2 online</span>
              </div>
            </div>
            <div class="sim-chat" id="msgs-sim3"></div>
          </div>
        </div>
        <div class="sim-footer" style="padding: 12px 0 0;">
          <div class="progress"><button class="btn-next" id="next-sim3" disabled>Carregando...</button></div>
          <div class="fake-input">+ Mensagem em conversas-privadas <span class="fake-icons">🎁 🙂</span></div>
        </div>
      </div>
    </div>

    <!-- Pré-offer -->
    <div class="screen" id="screen-pre">
      <div class="inner" style="max-width: 520px;">
        <div class="pre-offer">
          <h3>Esse ambiente é <span class="red">falso.</span></h3>
          <p>Mas situações idênticas acontecem todos os dias com milhares de crianças brasileiras.</p>
          <h4 style="margin:12px 0 8px; font-size:20px;">O que você pode fazer agora?</h4>
          <p>Conhecer os perigos é apenas o primeiro passo. Veja como proteger seus filhos efetivamente.</p>
          <ul>
            <li>Ensine seu filho a reconhecer abordagens suspeitas (pedidos de foto, idade, conversas privadas).</li>
            <li>Ative controles parentais e limite conversas com desconhecidos em jogos e apps.</li>
            <li>Estabeleça regras claras de tempo de tela e canais de denúncia seguros.</li>
            <li>Mantenha diálogo aberto e sem julgamentos para que ele avise quando algo estranho acontecer.</li>
          </ul>
        </div>
        <button class="cta-primary" id="btn-go-offer">Ver Oferta</button>
      </div>
    </div>

    <!-- Offer -->
    <div class="screen" id="screen-offer">
      <div class="inner" style="max-width: 520px;">
        <div class="offer">
          <div style="display:flex; gap:10px; align-items:center; margin-bottom:10px; color:#7dd3fc; font-weight:700;">🛡️ Proteja Seu Filho Agora</div>
          <h4>Proteja Seu Filho Agora</h4>
          <p>Você viu os perigos. Agora tenha acesso ao kit completo para proteger seus filhos online.</p>
          <div class="stat">+9.000 pais<br><span style="color:#9bb3d4; font-weight:500;">já protegeram seus filhos com este método</span></div>
          <div class="kit">
            <div class="kit-title">Kit Completo de Proteção Digital</div>
            <div class="kit-sub">Tudo que você precisa em um só lugar</div>
            <ul class="kit-list">
              <li><span class="check">✓</span> Guia Completo de Segurança Digital (PDF 50+ páginas)</li>
              <li><span class="check">✓</span> Roteiro de Diálogo com Seus Filhos</li>
              <li><span class="check">✓</span> Checklist de Configurações para cada app</li>
              <li><span class="check">✓</span> Lista de Apps de Monitoramento testados</li>
              <li><span class="check">✓</span> Suporte por 7 dias com especialistas</li>
            </ul>
            <div class="price"><span class="now">R$ 19,90</span><span class="old">R$ 97</span></div>
            <button class="btn-offer" onclick="window.location.href='https://pay.kirvano.com/efcc738d-0060-41b7-8dbf-7b7d6e3bd9b3'">Garantir Acesso Agora</button>
            <div class="guarantee">✓ Acesso imediato • ✓ Garantia de 7 dias • ✓ Pagamento seguro</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const screens = ['screen-inicial','screen-sim1','screen-sim2','screen-sim3','screen-pre','screen-offer'];
    const messagesData = {
      'screen-sim1': {
        target:'msgs-sim1',
        btn:'next-sim1',
        list:[
          {u:'D4rkWolf13', t:'14:23', msg:'fala galera', avatar:'wolf'},
          {u:'D4rkWolf13', t:'14:23', msg:'bora uma ranked??', avatar:'wolf'},
          {typing:true, u:'SweetAngel', avatar:'yumi'}
        ]
      },
      'screen-sim2': {
        target:'msgs-sim2',
        btn:'next-sim2',
        list:[
          {u:'M4st3rHelp', t:'15:12', msg:'e aí, conseguiu fazer aquelas missões q te falei?', avatar:'m4'},
          {u:'YumiKitty', t:'15:12', msg:'conseguiii\nvlw msm pela ajuda', avatar:'yumi'},
          {u:'XxCuteLoverxX', t:'15:13', msg:'oiii gente\nvc parece ser daora... qnts anos vc tem?', avatar:'love', alert:'Pergunta sobre idade é frequentemente o primeiro passo do aliciador'},
          {u:'YumiKitty', t:'15:13', msg:'11 pq?', avatar:'yumi'},
          {u:'M4st3rHelp', t:'15:14', msg:'manda uma foto sua pra gnt te conhecer melhor', avatar:'m4', alert:'PERIGO: Solicitação de foto em ambiente privado é sinal de alerta vermelho'},
          {u:'M4st3rHelp', t:'15:14', msg:'todo mundo aqui já mandou a deles', avatar:'m4', alert:'Pressão social para normalizar o comportamento perigoso'},
          {u:'XxCuteLoverxX', t:'15:14', msg:'eh vdd, todo mundo manda aqui', avatar:'love'},
          {u:'D4rkWolf13', t:'15:15', msg:'cuidado com o povo daqui ein kkkkk', avatar:'wolf'},
          {u:'XxCuteLoverxX', t:'15:15', msg:'olha só, achei um site mt bom aki\ntem skns gratis pra todo mundo → bit.ly/sk1ns-gr4t1s', avatar:'love', alert:'Links encurtados podem levar a sites de phishing ou malware'},
          {u:'M4st3rHelp', t:'15:16', msg:'se vc me passar seu login e senha eu coloco umas skins raras pra vc', avatar:'m4', alert:'Tentativa de roubo de conta disfarçada de favor'},
          {u:'M4st3rHelp', t:'15:16', msg:'faço isso pros meus amigos sempre, confia', avatar:'m4', alert:'Manipulação para construir falsa confiança'}
        ]
      },
      'screen-sim3': {
        target:'msgs-sim3',
        btn:'next-sim3',
        list:[
          {u:'M4st3rHelp', t:'16:45', msg:'olha, preciso q vc me faça um favor...', avatar:'m4'},
          {u:'M4st3rHelp', t:'16:46', msg:'mas é segredo nosso tá? não conta pra ninguém', avatar:'m4', alert:'Manipulação emocional para manter segredo dos pais'},
          {u:'M4st3rHelp', t:'16:47', msg:'se vc contar pros seus pais eu vou te excluir daqui', avatar:'m4', alert:'Chantagem emocional para silenciar'},
          {u:'XxCuteLoverxX', t:'16:48', msg:'alias... já descobri seu nome completo\nMariana Costa, aluna da escola santos dumont né?', avatar:'love', alert:'Perigo extremo: ameaça usando dados reais'},
          {u:'M4st3rHelp', t:'16:49', msg:'seus pais não vão entender isso\nelles só vão te castigar e tirar seu celular', avatar:'m4', alert:'Medo de punição para manter a criança silenciada'}
        ]
      }
    };

    function avatarStyle(id){
      if(id === 'wolf') return 'linear-gradient(135deg,#4f8bff,#2f5bff)';
      if(id === 'yumi') return 'linear-gradient(135deg,#f472b6,#f9a8d4)';
      if(id === 'm4') return 'linear-gradient(135deg,#22c55e,#16a34a)';
      if(id === 'love') return 'linear-gradient(135deg,#ec4899,#f97316)';
      return '#5865f2';
    }

    function appendMessage(targetId, m){
      const wrap = document.getElementById(targetId);
      const row = document.createElement('div');
      row.className = 'msg';
      row.innerHTML = `
        <div class="avatar" style="background:${avatarStyle(m.avatar)}">${m.u.slice(0,2).toUpperCase()}</div>
        <div style="flex:1;">
          <div class="header"><span class="name">${m.u}</span><span class="time">${m.t || ''}</span></div>
          <div class="bubble">${(m.msg||'').replace(/\n/g,'<br>')}</div>
          ${m.reaction ? `<div style="margin-top:4px; color:#c8d9f2; font-size:12px;">${m.reaction}</div>` : ''}
          ${m.alert ? `<div class="alert-box">${m.alert}</div>` : ''}
        </div>`;
      wrap.appendChild(row);
      wrap.scrollTop = wrap.scrollHeight;
    }

    function showTyping(targetId, m){
      const wrap = document.getElementById(targetId);
      const row = document.createElement('div');
      row.className = 'msg';
      row.innerHTML = `<div class="avatar" style="background:${avatarStyle(m.avatar || 'yumi')}">${m.u.slice(0,2).toUpperCase()}</div>
        <div>
          <div class="bubble" style="background:#2f3136; color:#a3a9b5;">${m.u} <span class="typing"><span class="t-dot"></span><span class="t-dot"></span><span class="t-dot"></span></span> <span style="margin-left:6px;">está digitando...</span></div>
        </div>`;
      wrap.appendChild(row);
      wrap.scrollTop = wrap.scrollHeight;
      return row;
    }

    function delay(ms){ return new Promise(res=>setTimeout(res, ms)); }

    async function playSim(screenId, nextLabel){
      const data = messagesData[screenId];
      const target = data.target;
      const btn = document.getElementById(data.btn);
      const list = [...data.list];
      const wrap = document.getElementById(target);
      wrap.innerHTML = '';
      btn.disabled = true;
      btn.textContent = 'Carregando...';
      for(const m of list){
        const typingRow = showTyping(target, m);
        await delay(700);
        typingRow.remove();
        if(m.msg){ appendMessage(target, m); }
        await delay(Math.min(1600, 500 + (m.msg ? m.msg.length * 18 : 500)));
      }
      btn.disabled = false;
      btn.textContent = nextLabel;
    }

    function showScreen(id){
      screens.forEach(s=>{
        const el = document.getElementById(s);
        if(el){ el.classList.toggle('active', s === id); }
      });
      window.scrollTo({top:0, behavior:'smooth'});
    }

    document.getElementById('btn-start').addEventListener('click', ()=>{
      showScreen('screen-sim1');
      playSim('screen-sim1','Próxima Fase (1/3)');
    });

    document.getElementById('next-sim1').addEventListener('click', ()=>{
      showScreen('screen-sim2');
      playSim('screen-sim2','Próxima Fase (2/3)');
    });

    document.getElementById('next-sim2').addEventListener('click', ()=>{
      showScreen('screen-sim3');
      playSim('screen-sim3','Ver Conteúdo Educativo');
    });

    document.getElementById('next-sim3').addEventListener('click', ()=>{
      showScreen('screen-pre');
    });

    document.getElementById('btn-go-offer').addEventListener('click', ()=>{
      showScreen('screen-offer');
    });
  </script>
</body>
</html>
